<div class=" content">
  <div class=" row">
    <div class="col-md-12 mb-5">
      <h1 class="text-center pb-3">Daily Treasury Rates</h1>
      <h3 class="text-center">Data points</h3>
        <p-table 
          #dt1 
          [value]="datapoints" 
          dataKey="rate"
          [rows]="10" 
          [showCurrentPageReport]="true" 
          [rowsPerPageOptions]="[5,10,25,50]" 
          [loading]="dailyTreasuryRatesDataPointsLoading" 
          styleClass="p-datatable-gridlines"
          [paginator]="true" 
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          responsiveLayout="scroll">
            <ng-template pTemplate="caption">
                <div class="d-flex justify-content-center">
                    <p-dropdown 
                        #dailyTreasuryRatesDatapointsSymbol 
                        [options]="symbols" 
                        optionLabel="label" 
                        optionValue="value" 
                        [(ngModel)]="selectedDailyTreasuryRatesDatapointsSymbol" 
                        (onChange)="getDailyTreasuryRates(dailyTreasuryRatesDatapointsSymbol.value)">
                      </p-dropdown>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th class="text-center">
                        Rate
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-collection>
                <tr>
                    <td class="text-center">
                        {{collection.rate}}
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="1">No collections found.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
    <div class="col-md-12">
        <h3 class="text-center">Time Series</h3>
        <p-table 
          #dt2 
          [value]="timeseries" 
          dataKey="dataId"
          [rows]="10" 
          [showCurrentPageReport]="true" 
          [rowsPerPageOptions]="[5,10,25,50]" 
          [loading]="dailyTreasuryRatesDataPointsLoading" 
          styleClass="p-datatable-gridlines"
          [paginator]="true" 
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          responsiveLayout="scroll">
            <ng-template pTemplate="header">
                <tr>
                    <th>
                        Date
                    </th>
                    <th>
                        Frequency
                    </th>
                    <th>
                        Value
                    </th>
                    <th>
                        Updated
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-collection>
                <tr>
                    <td>
                        {{collection.date | date: 'dd/MM/yyyy'}}
                    </td>
                    <td>
                        {{collection.frequency}}
                    </td>
                    <td>
                        {{collection.value}}
                    </td>
                    <td>
                        {{collection.updated | date: 'dd/MM/yyyy'}}
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="4">No collections found.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
  </div>
</div>
